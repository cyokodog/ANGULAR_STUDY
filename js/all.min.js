var saveChildren=[];$(".ex-code-prettify").each(function(){var e=$(this),r=e.children();r.appendTo("body"),saveChildren.push(r)}),$(".markdown").each(function(){var e=$(this);e.html(marked(e.html()))}),$(".ex-code-prettify").each(function(e){var r=$(this),t=saveChildren[e];t.appendTo(r)}),$(".ex-code-prettify").each(function(i){var target=$(this);$("<style/>").html($(".css").val()).prependTo("body");var demo=$('<div class="demo-html"/>').html(target.find(".html").val()).prependTo(target);target.find(".code").exCodePrettify({showDemo:!1}),target.find("div.demo-area").show().append(demo),$(".ex-code-prettify-hide-demo").removeClass("ex-code-prettify-hide-demo"),eval(target.find(".script").val())}),angular.module("hoge",[]).controller(function(e){}),function(e){var r=e.easyCodePrettify=function(t,n){var a=this,c=a.config=e.extend({},r.defaults,n);c.target=e(t);var o=c.target.find(c.codeNode).filter(function(){return RegExp(c.demoText+"|"+c.codeText).test(e(this).text())});o.each(function(){var r=e(this),t=RegExp(c.noAutoText).test(r.text()),n=RegExp(c.noResetText).test(r.text()),a=[];if(function(e){var r=arguments.callee,n=e.next();if(e.size()&&n.size()&&e.prop("tagName")==c.codeTypeNode&&"PRE"==n.prop("tagName")){var o=(e.text()+" ").match(/script |html |css |cssFile |jsFile /).toString().trim(),i="script"==o&&t?",autoRun:false":"",l="noCode "==(e.text()+" ").match(/noCode /)?",showCode:false":"";n.attr("data-ex-code-prettify-param",'{codeType:"'+o+'"'+i+l+"}"),e.remove(),a.push(n[0]),r(n.next())}}(r.next()),a.length){var o=e.extend({showDemo:RegExp(c.demoText).test(r.text()),showCode:RegExp(c.codeText).test(r.text()),editCode:RegExp(c.editText).test(r.text())},t?{showRunButton:!0,showResetButton:!n}:{});e(a).wrapAll('<div class="ex-code-prettify"/>').exCodePrettify(o),r.remove()}}),c.target.find("> pre").each(function(){var r=e(this),t=r.prev(),n={};t.prop("tagName")==c.codeTypeNode&&(n={codeType:t.text()},t.remove()),r.wrap('<div class="ex-code-prettify"/>').exCodePrettify(n)})};e.fn.easyCodePrettify=function(t){return this.each(function(){e(this).data(r.id,new e.easyCodePrettify(this,t))})},e.extend(r,{defaults:{codeNode:"H4",codeTypeNode:"H5",demoText:"demo",codeText:"code",editText:"edit",noAutoText:"noAuto",noResetText:"noReset"},id:"easy-code-prettify"})}(jQuery);var Showdown={};Showdown.converter=function(){var e,r,t,n=0;this.makeHtml=function(n){return e=new Array,r=new Array,t=new Array,n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=K(n),n=n.replace(/^[ \t]+$/gm,""),n=o(n),n=c(n),n=l(n),n=b(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~")};var a,c=function(t){var t=t.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(t,n,a,c,o){return n=n.toLowerCase(),e[n]=A(a),c?c+o:(o&&(r[n]=o.replace(/"/g,"&quot;")),"")});return t},o=function(e){e=e.replace(/\n/g,"\n\n");return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,i),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,i),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,i),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i),e=e.replace(/\n\n/g,"\n")},i=function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(t.push(n)-1)+"K\n\n"},l=function(e){e=h(e);var r=x("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=v(e),e=m(e),e=C(e),e=o(e),e=T(e)},p=function(e){return e=$(e),e=u(e),e=R(e),e=f(e),e=g(e),e=E(e),e=A(e),e=w(e),e=e.replace(/  +\n/g," <br />\n")},u=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=q(r,"\\`*_")})},g=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,d),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,d),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,d)},d=function(t,n,a,c,o,i,l,p){void 0==p&&(p="");var u=n,g=a,d=c.toLowerCase(),f=o,s=p;if(""==f)if(""==d&&(d=g.toLowerCase().replace(/ ?\n/g," ")),f="#"+d,void 0!=e[d])f=e[d],void 0!=r[d]&&(s=r[d]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;f=""}f=q(f,"*_");var h='<a href="'+f+'"';return""!=s&&(s=s.replace(/"/g,"&quot;"),s=q(s,"*_"),h+=' title="'+s+'"'),h+=">"+g+"</a>"},f=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s)},s=function(t,n,a,c,o,i,l,p){var u=n,g=a,d=c.toLowerCase(),f=o,s=p;if(s||(s=""),""==f){if(""==d&&(d=g.toLowerCase().replace(/ ?\n/g," ")),f="#"+d,void 0==e[d])return u;f=e[d],void 0!=r[d]&&(s=r[d])}g=g.replace(/"/g,"&quot;"),f=q(f,"*_");var h='<img src="'+f+'" alt="'+g+'"';return s=s.replace(/"/g,"&quot;"),s=q(s,"*_"),h+=' title="'+s+'"',h+=" />"},h=function(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,r){return x("<h1>"+p(r)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,r){return x("<h2>"+p(r)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,r,t){var n=r.length;return x("<h"+n+">"+p(t)+"</h"+n+">")})},v=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n?e=e.replace(r,function(e,r,t){var n=r,c=t.search(/[*+-]/g)>-1?"ul":"ol";n=n.replace(/\n{2,}/g,"\n\n\n");var o=a(n);return o=o.replace(/\s+$/,""),o="<"+c+">"+o+"</"+c+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,t,n){var c=r,o=t,i=n.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),l=a(o);return l=c+"<"+i+">\n"+l+"</"+i+">\n"})),e=e.replace(/~0/,"")};a=function(e){return n++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,t,n,a){var c=a,o=r;return o||c.search(/\n{2,}/)>-1?c=l(_(c)):(c=v(_(c)),c=c.replace(/\n$/,""),c=p(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),n--,e};var m=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,t){var n=r,a=t;return n=y(_(n)),n=K(n),n=n.replace(/^\n+/g,""),n=n.replace(/\n+$/g,""),n="<pre><code>"+n+"\n</code></pre>",x(n)+a}),e=e.replace(/~0/,"")},x=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(t.push(e)-1)+"K\n\n"},$=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,t,n,a){var c=n;return c=c.replace(/^([ \t]*)/g,""),c=c.replace(/[ \t]*$/g,""),c=y(c),r+"<code>"+c+"</code>"})},y=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=q(e,"*_{}[]\\",!1)},w=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},C=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var t=r;return t=t.replace(/^[ \t]*>[ \t]?/gm,"~0"),t=t.replace(/~0/g,""),t=t.replace(/^[ \t]+$/gm,""),t=l(t),t=t.replace(/(^|\n)/g,"$1  "),t=t.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var t=r;return t=t.replace(/^  /gm,"~0"),t=t.replace(/~0/g,"")}),x("<blockquote>\n"+t+"\n</blockquote>")})},T=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),n=new Array,a=r.length,c=0;a>c;c++){var o=r[c];o.search(/~K(\d+)K/g)>=0?n.push(o):o.search(/\S/)>=0&&(o=p(o),o=o.replace(/^([ \t]*)/g,"<p>"),o+="</p>",n.push(o))}a=n.length;for(var c=0;a>c;c++)for(;n[c].search(/~K(\d+)K/)>=0;){var i=t[RegExp.$1];i=i.replace(/\$/g,"$$$$"),n[c]=n[c].replace(/~K\d+K/,i)}return n.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},R=function(e){return e=e.replace(/\\(\\)/g,N),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,N)},E=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return S(b(r))})},S=function(e){function r(e){var r="0123456789ABCDEF",t=e.charCodeAt(0);return r.charAt(t>>4)+r.charAt(15&t)}var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+r(e)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var r=Math.random();e=r>.9?t[2](e):r>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},b=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var t=parseInt(r);return String.fromCharCode(t)})},_=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},K=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r,t){for(var n=r,a=4-n.length%4,c=0;a>c;c++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},q=function(e,r,t){var n="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";t&&(n="\\\\"+n);var a=new RegExp(n,"g");return e=e.replace(a,N)},N=function(e,r){var t=r.charCodeAt(0);return"~E"+t+"E"}};var saveChildren=[];$(".ex-code-prettify").each(function(){var e=$(this),r=e.children();r.appendTo("body"),saveChildren.push(r)}),$(".markdown").each(function(){var e=$(this);e.html(marked(e.html()))}),$(".ex-code-prettify").each(function(e){var r=$(this),t=saveChildren[e];t.appendTo(r)}),$(".ex-code-prettify").each(function(i){var target=$(this);$("<style/>").html($(".css").val()).prependTo("body");var demo=$('<div class="demo-html"/>').html(target.find(".html").val()).prependTo(target);target.find(".code").exCodePrettify({showDemo:!1}),target.find("div.demo-area").show().append(demo),$(".ex-code-prettify-hide-demo").removeClass("ex-code-prettify-hide-demo"),eval(target.find(".script").val())}),angular.module("hoge",[]).controller(function(e){}),function(e){var r=e.easyCodePrettify=function(t,n){var a=this,c=a.config=e.extend({},r.defaults,n);c.target=e(t);var o=c.target.find(c.codeNode).filter(function(){return RegExp(c.demoText+"|"+c.codeText).test(e(this).text())});o.each(function(){var r=e(this),t=RegExp(c.noAutoText).test(r.text()),n=RegExp(c.noResetText).test(r.text()),a=[];if(function(e){var r=arguments.callee,n=e.next();if(e.size()&&n.size()&&e.prop("tagName")==c.codeTypeNode&&"PRE"==n.prop("tagName")){var o=(e.text()+" ").match(/script |html |css |cssFile |jsFile /).toString().trim(),i="script"==o&&t?",autoRun:false":"",l="noCode "==(e.text()+" ").match(/noCode /)?",showCode:false":"";n.attr("data-ex-code-prettify-param",'{codeType:"'+o+'"'+i+l+"}"),e.remove(),a.push(n[0]),r(n.next())}}(r.next()),a.length){var o=e.extend({showDemo:RegExp(c.demoText).test(r.text()),showCode:RegExp(c.codeText).test(r.text()),editCode:RegExp(c.editText).test(r.text())},t?{showRunButton:!0,showResetButton:!n}:{});e(a).wrapAll('<div class="ex-code-prettify"/>').exCodePrettify(o),r.remove()}}),c.target.find("> pre").each(function(){var r=e(this),t=r.prev(),n={};t.prop("tagName")==c.codeTypeNode&&(n={codeType:t.text()},t.remove()),r.wrap('<div class="ex-code-prettify"/>').exCodePrettify(n)})};e.fn.easyCodePrettify=function(t){return this.each(function(){e(this).data(r.id,new e.easyCodePrettify(this,t))})},e.extend(r,{defaults:{codeNode:"H4",codeTypeNode:"H5",demoText:"demo",codeText:"code",editText:"edit",noAutoText:"noAuto",noResetText:"noReset"},id:"easy-code-prettify"})}(jQuery);var Showdown={};Showdown.converter=function(){var e,r,t,n=0;this.makeHtml=function(n){return e=new Array,r=new Array,t=new Array,n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=K(n),n=n.replace(/^[ \t]+$/gm,""),n=o(n),n=c(n),n=l(n),n=b(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~")};var a,c=function(t){var t=t.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(t,n,a,c,o){return n=n.toLowerCase(),e[n]=A(a),c?c+o:(o&&(r[n]=o.replace(/"/g,"&quot;")),"")});return t},o=function(e){e=e.replace(/\n/g,"\n\n");return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,i),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,i),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,i),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i),e=e.replace(/\n\n/g,"\n")},i=function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(t.push(n)-1)+"K\n\n"},l=function(e){e=h(e);var r=x("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=v(e),e=m(e),e=C(e),e=o(e),e=T(e)},p=function(e){return e=$(e),e=u(e),e=R(e),e=f(e),e=g(e),e=E(e),e=A(e),e=w(e),e=e.replace(/  +\n/g," <br />\n")},u=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=q(r,"\\`*_")})},g=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,d),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,d),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,d)},d=function(t,n,a,c,o,i,l,p){void 0==p&&(p="");var u=n,g=a,d=c.toLowerCase(),f=o,s=p;if(""==f)if(""==d&&(d=g.toLowerCase().replace(/ ?\n/g," ")),f="#"+d,void 0!=e[d])f=e[d],void 0!=r[d]&&(s=r[d]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;f=""}f=q(f,"*_");var h='<a href="'+f+'"';return""!=s&&(s=s.replace(/"/g,"&quot;"),s=q(s,"*_"),h+=' title="'+s+'"'),h+=">"+g+"</a>"},f=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s)},s=function(t,n,a,c,o,i,l,p){var u=n,g=a,d=c.toLowerCase(),f=o,s=p;if(s||(s=""),""==f){if(""==d&&(d=g.toLowerCase().replace(/ ?\n/g," ")),f="#"+d,void 0==e[d])return u;f=e[d],void 0!=r[d]&&(s=r[d])}g=g.replace(/"/g,"&quot;"),f=q(f,"*_");var h='<img src="'+f+'" alt="'+g+'"';return s=s.replace(/"/g,"&quot;"),s=q(s,"*_"),h+=' title="'+s+'"',h+=" />"},h=function(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,r){return x("<h1>"+p(r)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,r){return x("<h2>"+p(r)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,r,t){var n=r.length;return x("<h"+n+">"+p(t)+"</h"+n+">")})},v=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n?e=e.replace(r,function(e,r,t){var n=r,c=t.search(/[*+-]/g)>-1?"ul":"ol";n=n.replace(/\n{2,}/g,"\n\n\n");var o=a(n);return o=o.replace(/\s+$/,""),o="<"+c+">"+o+"</"+c+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,t,n){var c=r,o=t,i=n.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),l=a(o);return l=c+"<"+i+">\n"+l+"</"+i+">\n"})),e=e.replace(/~0/,"")};a=function(e){return n++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,t,n,a){var c=a,o=r;return o||c.search(/\n{2,}/)>-1?c=l(_(c)):(c=v(_(c)),c=c.replace(/\n$/,""),c=p(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),n--,e};var m=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,t){var n=r,a=t;return n=y(_(n)),n=K(n),n=n.replace(/^\n+/g,""),n=n.replace(/\n+$/g,""),n="<pre><code>"+n+"\n</code></pre>",x(n)+a}),e=e.replace(/~0/,"")},x=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(t.push(e)-1)+"K\n\n"},$=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,t,n,a){var c=n;return c=c.replace(/^([ \t]*)/g,""),c=c.replace(/[ \t]*$/g,""),c=y(c),r+"<code>"+c+"</code>"})},y=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=q(e,"*_{}[]\\",!1)},w=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},C=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var t=r;return t=t.replace(/^[ \t]*>[ \t]?/gm,"~0"),t=t.replace(/~0/g,""),t=t.replace(/^[ \t]+$/gm,""),t=l(t),t=t.replace(/(^|\n)/g,"$1  "),t=t.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var t=r;return t=t.replace(/^  /gm,"~0"),t=t.replace(/~0/g,"")}),x("<blockquote>\n"+t+"\n</blockquote>")})},T=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),n=new Array,a=r.length,c=0;a>c;c++){var o=r[c];o.search(/~K(\d+)K/g)>=0?n.push(o):o.search(/\S/)>=0&&(o=p(o),o=o.replace(/^([ \t]*)/g,"<p>"),o+="</p>",n.push(o))}a=n.length;for(var c=0;a>c;c++)for(;n[c].search(/~K(\d+)K/)>=0;){var i=t[RegExp.$1];i=i.replace(/\$/g,"$$$$"),n[c]=n[c].replace(/~K\d+K/,i)}return n.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},R=function(e){return e=e.replace(/\\(\\)/g,N),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,N)},E=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return S(b(r))})},S=function(e){function r(e){var r="0123456789ABCDEF",t=e.charCodeAt(0);return r.charAt(t>>4)+r.charAt(15&t)}var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+r(e)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var r=Math.random();e=r>.9?t[2](e):r>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},b=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var t=parseInt(r);return String.fromCharCode(t)})},_=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},K=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r,t){for(var n=r,a=4-n.length%4,c=0;a>c;c++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},q=function(e,r,t){var n="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";t&&(n="\\\\"+n);var a=new RegExp(n,"g");return e=e.replace(a,N)},N=function(e,r){var t=r.charCodeAt(0);return"~E"+t+"E"}};